


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting started with High-Low Tide Composites (HLTC_25) &mdash; Digital Earth Australia 1.0.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/dea-favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://unpkg.com/font-awesome@4.5.0/css/font-awesome.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Getting started with the Intertidal Extents Relative Model and ITEM Confidence (ITEM v2.0)" href="Introduction_to_ITEM.html" />
    <link rel="prev" title="Introduction to Sentinel 2" href="Introduction_to_Sentinel2.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/dea-logo-inline.svg" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/changelog.html">DEA NCI Environment Changelog</a></li>
</ul>
<p class="caption"><span class="caption-text">Connect</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../connect/account.html">NCI Account Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../connect/install.html">Installation and Software Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../connect/nci_basics.html">Command Line Usage (Advanced)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../connect/jupyter.html">Jupyter Notebooks Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../internal/other_modules.html">Other Modules</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../01_Getting_started/README.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="README.html">DEA Datasets</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Introduction_to_Landsat.html">Introduction to DEA Landsat surface reflectance</a></li>
<li class="toctree-l2"><a class="reference internal" href="Introduction_to_LandsatPQ.html">Introduction to Landsat pixel quality (PQ25)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Introduction_to_Fractional_Cover.html">Introduction to Fractional Cover Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="Introduction_to_Sentinel2.html">Introduction to Sentinel 2</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Getting started with High-Low Tide Composites (HLTC_25)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Import-modules">Import modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Overview-of-High-Low-Tide-Composite-products">Overview of High-Low Tide Composite products</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Import-High-and-Low-Tide-composites">Import High and Low Tide composites</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Plot-true-color-High-and-Low-Tide-composites">Plot true-color High and Low Tide composites</a></li>
<li class="toctree-l4"><a class="reference internal" href="#How-HLTC_25-composites-correspond-to-Landsat-observations-and-tidal-heights">How HLTC_25 composites correspond to Landsat observations and tidal heights</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Import-HLTC-clear-observations-count-layers">Import HLTC clear observations count layers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Plot-HLTC-clear-observations-count-layers">Plot HLTC clear observations count layers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#Computing-remote-sensing-indices-on-HLTC_25-composites">Computing remote sensing indices on HLTC_25 composites</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Introduction_to_ITEM.html">Getting started with the Intertidal Extents Relative Model and ITEM Confidence (ITEM v2.0)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../03_Integrating_external_data/README.html">Integrating External Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_Index_calculation/README.html">Index Calculation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05_Temporal_analysis/README.html">Temporal Analyses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06_Composite_generation/README.html">Composite Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07_Image_classification/README.html">Image Classification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../08_Outputting_data/README.html">Outputting data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../09_Workflows/README.html">Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10_Scripts/README.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Supplementary_data/README.html">Supplementary Data</a></li>
</ul>
<p class="caption"><span class="caption-text">Data Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../data/data.html">Surface Reflectance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data/s3.html">Products Available on Amazon S3</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../internal/new_product.html">Creating a New Product</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../internal/git_best_practice.html">Git Best Practice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../internal/release.html">DEA Release Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../internal/modules.html">DEA Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../internal/collection_management.html">Collection Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../internal/requirements_met.html">DEA Code Functionality Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Indexes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../genindex.html">Tags Index</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Digital Earth Australia</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="README.html">DEA Datasets</a> &raquo;</li>
        
      <li>Getting started with High-Low Tide Composites (HLTC_25)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/notebooks/02_DEA_datasets/Introduction_to_HLTC.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="Getting-started-with-High-Low-Tide-Composites-(HLTC_25)">
<h1>Getting started with High-Low Tide Composites (HLTC_25)<a class="headerlink" href="#Getting-started-with-High-Low-Tide-Composites-(HLTC_25)" title="Permalink to this headline">¶</a></h1>
<p><strong>What does this notebook do?</strong></p>
<p>This notebook provides an introduction to the High and Low Tide
Composites product (HLTC_25), which is composed of two surface
reflectance composite mosaics of Landsat TM and ETM+ (Landsat 5 and
Landsat 7 respectively) and OLI (Landsat 8) surface reflectance data (Li
et al., 2012). These products have been produced using Digital Earth
Australia (DEA). The two mosaics allow cloud free and noise reduced
visualisation of the shallow water and inter-tidal coastal regions of
Australia, as observed at high and low tide respectively (<a class="reference external" href="http://dx.doi.org/10.3390/rs10030480">Sagar et al.
2018</a>).</p>
<p><strong>Requirements</strong></p>
<p>You need to run the following commands from the command line prior to
launching jupyter notebooks from the same terminal so that the required
libraries and paths are set:</p>
<p><code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">use</span> <span class="pre">/g/data/v10/public/modules/modulefiles</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">load</span> <span class="pre">dea</span></code></p>
<p>If you find an error or bug in this notebook, please either create an
‘Issue’ in the Github repository, or fix it yourself and create a ‘Pull’
request to contribute the updated notebook back into the repository (See
the repository
<a class="reference external" href="https://github.com/GeoscienceAustralia/dea-notebooks/blob/master/README.rst">README</a>
for instructions on creating a Pull request).</p>
<p><strong>Date:</strong> August 2018</p>
<p><strong>Author:</strong> Robbi Bishop-Taylor</p>
<p><strong>Tags</strong>: <span class="target" id="index-0"></span>HLTC, <span class="target" id="index-1"></span>composites, <span class="target" id="index-2"></span>intertidal_zone, <span class="target" id="index-3"></span>query, <span class="target" id="index-4"></span>dc.load, <span class="target" id="index-5"></span>plot, <span class="target" id="index-6"></span>Landsat5, , <span class="target" id="index-7"></span>Landsat7, <span class="target" id="index-8"></span>Landsat8, <span class="target" id="index-9"></span>NDWI</p>
<div class="section" id="Import-modules">
<h2>Import modules<a class="headerlink" href="#Import-modules" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">datacube</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">datacube.utils</span> <span class="k">import</span> <span class="n">geometry</span>
<span class="kn">from</span> <span class="nn">datacube.utils.geometry</span> <span class="k">import</span> <span class="n">CRS</span>

<span class="c1"># Import external functions from dea-notebooks using relative link to Scripts</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;../10_Scripts&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">DEAPlotting</span>

<span class="c1"># Create datacube instance</span>
<span class="n">dc</span> <span class="o">=</span> <span class="n">datacube</span><span class="o">.</span><span class="n">Datacube</span><span class="p">(</span><span class="n">app</span><span class="o">=</span><span class="s1">&#39;HLTC&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Overview-of-High-Low-Tide-Composite-products">
<h2>Overview of High-Low Tide Composite products<a class="headerlink" href="#Overview-of-High-Low-Tide-Composite-products" title="Permalink to this headline">¶</a></h2>
<p>Inter-tidal zones are difficult regions to characterise due to the
dynamic nature of the tide. They are highly changeable environments,
subject to forcings from the land, sea and atmosphere and yet they form
critical habitats for a wide range of organisms from birds to fish and
sea grass. By harnessing the long archive of satellite imagery over
Australia’s coastal zones in the DEA and pairing the images with
regional tidal modelling, the archive can be sorted by tide height
rather than date, enabling the inter-tidal zone to be viewed at any
stage of the tide regime.</p>
<p>The High Low Tide Composites (HLTC_25) product is composed of two
mosaics, distinguished by tide height, representing a composite image of
the synthetic geomedian surface reflectance from Landsats 5 TM, Landsat
7 ETM+ and Landsat 8 OLI NBAR data (Li et al., 2012; Roberts et al.,
2017). <a class="reference external" href="http://volkov.oce.orst.edu/tides/otps.html">Oregon State University Tidal Prediction Software
(OTPS)</a> (Egbert and
Erofeeva, 2002, 2010) was used to generate tide heights, relative to
mean sea level, for the Australian continental coastline, split into 306
distinct tidal regions. These time and date stamped tidal values were
then attributed to all coastal tile observations for their time of
acquisition, creating a range of observed tide heights for the
Australian coastline. The two mosaics in HLTC_25 are composited from
the highest and lowest 20 % of observed tide in the ensemble. A
geomedian composite for each Landsat band is calculated from the tiles
in each ensemble subset to produce the respective High and Low Tide
composites. Note that Landsat 7 ETM+ observations are excluded after May
2003 due to a large number of data artefacts.</p>
<p>Four HLTC datasets are available through DEA: the High Tide 20
percentage composite, the Low Tide 20 percentage composite, the High
Tide 20 percentage pixel / clear observations count, and the Low Tide 20
percentage pixel / clear observations count layer. All layers are in the
Australian Albers <code class="docutils literal notranslate"><span class="pre">EPSG:3577</span></code> projection system, and have 25m pixel
resolution:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># List metadata for ITEM products available in DEA</span>
<span class="n">dc_products</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">list_products</span><span class="p">()</span>
<span class="n">display_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span><span class="p">,</span> <span class="s1">&#39;product_type&#39;</span><span class="p">,</span> <span class="s1">&#39;crs&#39;</span><span class="p">,</span> <span class="s1">&#39;resolution&#39;</span><span class="p">,</span> <span class="s1">&#39;spatial_dimensions&#39;</span><span class="p">]</span>
<span class="n">display</span><span class="p">(</span><span class="n">dc_products</span><span class="p">[</span><span class="n">dc_products</span><span class="o">.</span><span class="n">product_type</span> <span class="o">==</span> <span class="s1">&#39;tidal_composite&#39;</span><span class="p">][</span><span class="n">display_columns</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>description</th>
      <th>product_type</th>
      <th>crs</th>
      <th>resolution</th>
      <th>spatial_dimensions</th>
    </tr>
    <tr>
      <th>name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>high_tide_comp_20p</th>
      <td>High Tide 20 percentage composites for entire ...</td>
      <td>tidal_composite</td>
      <td>EPSG:3577</td>
      <td>[-25, 25]</td>
      <td>(y, x)</td>
    </tr>
    <tr>
      <th>high_tide_comp_count</th>
      <td>High Tide 20 percentage pixel count</td>
      <td>tidal_composite</td>
      <td>EPSG:3577</td>
      <td>[-25, 25]</td>
      <td>(y, x)</td>
    </tr>
    <tr>
      <th>low_tide_comp_20p</th>
      <td>Low Tide 20 percentage composites for entire c...</td>
      <td>tidal_composite</td>
      <td>EPSG:3577</td>
      <td>[-25, 25]</td>
      <td>(y, x)</td>
    </tr>
    <tr>
      <th>low_tide_comp_count</th>
      <td>Low Tide 20 percentage pixel count</td>
      <td>tidal_composite</td>
      <td>EPSG:3577</td>
      <td>[-25, 25]</td>
      <td>(y, x)</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
<div class="section" id="Import-High-and-Low-Tide-composites">
<h2>Import High and Low Tide composites<a class="headerlink" href="#Import-High-and-Low-Tide-composites" title="Permalink to this headline">¶</a></h2>
<p>We can set up an extraction query for HLTC_25 using only spatial
details (i.e. extent and projection): because HLTC_25 was computed by
combining images from the entire Landsat time series into a single
layer, it has no true temporal dimension (the layers do have a timestamp
<code class="docutils literal notranslate"><span class="pre">2008-06-01</span></code>, but this is a meaningless placeholder value which is
only required due to restrictions of the netCDF file format).</p>
<p>Each HLTC_25 composite contains six surface-reflectance spectral bands:
blue, green, red, near-infrared, short-wave infrared 1 and short-wave
infrared 2.</p>
<div class="admonition note">
Important note: Please note that the surface reflectance values for each
HLTC band are expressed as a floating point number between 0 and 1. This
differs from surface reflectance values included with the DEA Landsat
datasets, which are expressed as integers scaled between 0 and 10000.</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Set up analysis data query using a buffer around a lat-long point</span>
<span class="n">lat</span><span class="p">,</span> <span class="n">lon</span> <span class="o">=</span> <span class="o">-</span><span class="mf">18.2066466248</span><span class="p">,</span> <span class="mf">122.214634558</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">point</span><span class="p">(</span><span class="n">lon</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">CRS</span><span class="p">(</span><span class="s1">&#39;WGS84&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">to_crs</span><span class="p">(</span><span class="n">CRS</span><span class="p">(</span><span class="s1">&#39;EPSG:3577&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">points</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">query</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">8000</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">8000</span><span class="p">),</span>
         <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="mi">8000</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">8000</span><span class="p">),</span>
         <span class="s1">&#39;crs&#39;</span><span class="p">:</span> <span class="s1">&#39;EPSG:3577&#39;</span><span class="p">}</span>

<span class="c1"># Import high and low tide composite layers</span>
<span class="n">lowtidecomp_data</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">product</span> <span class="o">=</span> <span class="s1">&#39;low_tide_comp_20p&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">query</span><span class="p">)</span>
<span class="n">hightidecomp_data</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">product</span> <span class="o">=</span> <span class="s1">&#39;high_tide_comp_20p&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">query</span><span class="p">)</span>

<span class="c1"># Squeeze out the unnecessary temporal dimensions:</span>
<span class="n">lowtidecomp_data</span> <span class="o">=</span> <span class="n">lowtidecomp_data</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">dim</span> <span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">hightidecomp_data</span> <span class="o">=</span> <span class="n">hightidecomp_data</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">dim</span> <span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Low Tide composite:</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">lowtidecomp_data</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;High Tide composite:</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">hightidecomp_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Low Tide composite:

 &lt;xarray.Dataset&gt;
Dimensions:  (x: 641, y: 641)
Coordinates:
  * y        (y) float64 -1.977e+06 -1.977e+06 -1.977e+06 -1.977e+06 ...
  * x        (x) float64 -1.042e+06 -1.042e+06 -1.042e+06 -1.041e+06 ...
Data variables:
    blue     (y, x) float32 0.142985 0.14270617 0.14022838 0.14154135 ...
    green    (y, x) float32 0.13809542 0.13810375 0.13611284 0.13777812 ...
    red      (y, x) float32 0.04964104 0.049942903 0.047967885 0.04862893 ...
    nir      (y, x) float32 0.019549698 0.019038271 0.017294109 0.017598702 ...
    swir1    (y, x) float32 0.014030585 0.013525395 0.012839856 0.012547176 ...
    swir2    (y, x) float32 0.012055442 0.011902479 0.010675464 0.0107429875 ...
Attributes:
    crs:      EPSG:3577

High Tide composite:

 &lt;xarray.Dataset&gt;
Dimensions:  (x: 641, y: 641)
Coordinates:
  * y        (y) float64 -1.977e+06 -1.977e+06 -1.977e+06 -1.977e+06 ...
  * x        (x) float64 -1.042e+06 -1.042e+06 -1.042e+06 -1.041e+06 ...
Data variables:
    blue     (y, x) float32 0.09749842 0.097107425 0.09854955 0.09821082 ...
    green    (y, x) float32 0.080454886 0.07957849 0.08056681 0.080383584 ...
    red      (y, x) float32 0.027368411 0.026049657 0.026635412 0.02656997 ...
    nir      (y, x) float32 0.014182586 0.013655526 0.013694856 0.013541803 ...
    swir1    (y, x) float32 0.009138728 0.008328416 0.008693697 0.008509348 ...
    swir2    (y, x) float32 0.0076592015 0.0072349813 0.006763301 ...
Attributes:
    crs:      EPSG:3577
</pre></div></div>
</div>
<div class="section" id="Plot-true-color-High-and-Low-Tide-composites">
<h3>Plot true-color High and Low Tide composites<a class="headerlink" href="#Plot-true-color-High-and-Low-Tide-composites" title="Permalink to this headline">¶</a></h3>
<p>We can now plot the HLTC_25 High and Low Tide composites, first in true
color:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Plot High and Low tide composites in true color by first converting to a three band array,</span>
<span class="c1"># then using the `plot.imshow` method for plotting in colour</span>
<span class="n">hightidecomp_data</span><span class="p">[[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">to_array</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">robust</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">lowtidecomp_data</span><span class="p">[[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">to_array</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">robust</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[9]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&lt;matplotlib.image.AxesImage at 0x7fac247bf7b8&gt;
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_02_DEA_datasets_Introduction_to_HLTC_11_1.png" src="../../_images/notebooks_02_DEA_datasets_Introduction_to_HLTC_11_1.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_02_DEA_datasets_Introduction_to_HLTC_11_2.png" src="../../_images/notebooks_02_DEA_datasets_Introduction_to_HLTC_11_2.png" />
</div>
</div>
<p>…and in false color:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Plot High and Low tide composites in false colour</span>
<span class="n">hightidecomp_data</span><span class="p">[[</span><span class="s1">&#39;swir1&#39;</span><span class="p">,</span> <span class="s1">&#39;nir&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">to_array</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">robust</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">lowtidecomp_data</span><span class="p">[[</span><span class="s1">&#39;swir1&#39;</span><span class="p">,</span> <span class="s1">&#39;nir&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">to_array</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">robust</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[11]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&lt;matplotlib.image.AxesImage at 0x7fac246f8780&gt;
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_02_DEA_datasets_Introduction_to_HLTC_13_1.png" src="../../_images/notebooks_02_DEA_datasets_Introduction_to_HLTC_13_1.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_02_DEA_datasets_Introduction_to_HLTC_13_2.png" src="../../_images/notebooks_02_DEA_datasets_Introduction_to_HLTC_13_2.png" />
</div>
</div>
</div>
<div class="section" id="How-HLTC_25-composites-correspond-to-Landsat-observations-and-tidal-heights">
<h3>How HLTC_25 composites correspond to Landsat observations and tidal heights<a class="headerlink" href="#How-HLTC_25-composites-correspond-to-Landsat-observations-and-tidal-heights" title="Permalink to this headline">¶</a></h3>
<p>The following plots highlight the Landsat observations (black dots) that
were used to generate the specific High and Low tide composites above,
in relation to the full modelled tidal range (blue) and complete archive
(white dots) for the particular location along Australia’s coastline.
For the below example, note how the observations used to create the High
Tide composite come from the top 20% of the observed tidal range, and
the Low Tide composite observations come from the bottom 20% of
observations. The Low and High Tide composites from the example above
also use different temporal selections of the Landsat time series: the
time range used for composite generation was locally tailored for each
composite to ensure dynamic coastal features were captured whilst still
allowing a clean and cloud free composite to be generated. The maximum
epoch for which the products are calculated is between 1995-2017,
although this varies due to data resolution and observation quality.</p>
<p>These plots are <a class="reference external" href="https://nationalmap.gov.au/#share=s-42YrMXpOX9aW9Uhmxuc01c931kD">available for all areas of Australia’s coastline by
clicking on an HLTC_25 polygon on National
Map</a>,
and provide valuable information for interpreting the HLTC_25 composite
imagery.</p>
<p>High tide composite:</p>
<div class="figure" id="id1">
<img alt="High tide composite" src="http://dea-public-data.s3-ap-southeast-2.amazonaws.com/LHTC_Tides/COMPOSITE_HIGH_209_122.2_-18.07_20000101_20170101_PER_20.jpg" />
<p class="caption"><span class="caption-text">High tide composite</span></p>
</div>
<p>Low tide composite:</p>
<div class="figure" id="id2">
<img alt="Low tide composite" src="http://dea-public-data.s3-ap-southeast-2.amazonaws.com/LHTC_Tides/COMPOSITE_LOW_209_122.2_-18.07_20100101_20170101_PER_20.jpg" />
<p class="caption"><span class="caption-text">Low tide composite</span></p>
</div>
</div>
</div>
<div class="section" id="Import-HLTC-clear-observations-count-layers">
<h2>Import HLTC clear observations count layers<a class="headerlink" href="#Import-HLTC-clear-observations-count-layers" title="Permalink to this headline">¶</a></h2>
<p>Prior to being combined into composite images, satellite observations
were filtered to remove poor quality observations including cloud, cloud
shadow and band saturation (of any band). To document this, the product
also includes a count of clear observations per pixel for both mosaics:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Import high and low tide composite layers</span>
<span class="n">lowtidecount_data</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">product</span> <span class="o">=</span> <span class="s1">&#39;low_tide_comp_count&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">query</span><span class="p">)</span>
<span class="n">hightidecount_data</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">product</span> <span class="o">=</span> <span class="s1">&#39;high_tide_comp_count&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">query</span><span class="p">)</span>

<span class="c1"># Squeeze out the unnecessary temporal dimensions:</span>
<span class="n">lowtidecount_data</span> <span class="o">=</span> <span class="n">lowtidecount_data</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">dim</span> <span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">hightidecount_data</span> <span class="o">=</span> <span class="n">hightidecount_data</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">dim</span> <span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">drop</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Low Tide clear observations count:</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">lowtidecount_data</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;High Tide clear observations count:</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">hightidecount_data</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Low Tide clear observations count:

 &lt;xarray.Dataset&gt;
Dimensions:             (x: 641, y: 641)
Coordinates:
  * y                   (y) float64 -1.977e+06 -1.977e+06 -1.977e+06 ...
  * x                   (x) float64 -1.042e+06 -1.042e+06 -1.042e+06 ...
Data variables:
    count_observations  (y, x) int16 23 23 24 24 24 24 24 24 24 24 24 24 24 ...
Attributes:
    crs:      EPSG:3577

High Tide clear observations count:

 &lt;xarray.Dataset&gt;
Dimensions:             (x: 641, y: 641)
Coordinates:
  * y                   (y) float64 -1.977e+06 -1.977e+06 -1.977e+06 ...
  * x                   (x) float64 -1.042e+06 -1.042e+06 -1.042e+06 ...
Data variables:
    count_observations  (y, x) int16 61 60 59 60 60 60 60 59 59 60 60 62 62 ...
Attributes:
    crs:      EPSG:3577
</pre></div></div>
</div>
<div class="section" id="Plot-HLTC-clear-observations-count-layers">
<h3>Plot HLTC clear observations count layers<a class="headerlink" href="#Plot-HLTC-clear-observations-count-layers" title="Permalink to this headline">¶</a></h3>
<p>Darker values indicate areas with fewer clear Landsat observations,
which may have been caused by cloud, cloud shadow or band saturation
(e.g. potentially caused by bright sand or sun glint):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Plot High and Low tide count observations side-by-side</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">gridspec_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;width_ratios&#39;</span><span class="p">:[</span><span class="mf">0.83</span><span class="p">,</span> <span class="mi">1</span><span class="p">]})</span>
<span class="n">lowtidecount_data</span><span class="o">.</span><span class="n">count_observations</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">add_colorbar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s1">&#39;Low Tide count observations&#39;</span><span class="p">)</span>
<span class="n">hightidecount_data</span><span class="o">.</span><span class="n">count_observations</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s1">&#39;High Tide count observations&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_02_DEA_datasets_Introduction_to_HLTC_19_0.png" src="../../_images/notebooks_02_DEA_datasets_Introduction_to_HLTC_19_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="Computing-remote-sensing-indices-on-HLTC_25-composites">
<h2>Computing remote sensing indices on HLTC_25 composites<a class="headerlink" href="#Computing-remote-sensing-indices-on-HLTC_25-composites" title="Permalink to this headline">¶</a></h2>
<p>Because the composites were produced using a geomedian approach that
preserves the band relationships within the modelled spectra at each
pixel, the surface reflectance values can be used for remote sensing
applications (for example, image classification, remote sensing index
calculation, habitat mapping) in exactly the same way as spectral bands
from individual Landsat observations. For example, we can use the
composites to compute simple remote sensing indices such as the
Normalized Difference Water Index (NDWI). This index will have high
values where a pixel is likely to be open water (e.g. NDWI &gt; 0, or red
colours below):</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Compute NDWI using the formula (green - nir) / (green + nir)</span>
<span class="n">hightidecomp_ndwi</span> <span class="o">=</span> <span class="p">(</span><span class="n">hightidecomp_data</span><span class="o">.</span><span class="n">green</span> <span class="o">-</span> <span class="n">hightidecomp_data</span><span class="o">.</span><span class="n">nir</span><span class="p">)</span> <span class="o">/</span> \
                    <span class="p">(</span><span class="n">hightidecomp_data</span><span class="o">.</span><span class="n">green</span> <span class="o">+</span> <span class="n">hightidecomp_data</span><span class="o">.</span><span class="n">nir</span><span class="p">)</span>
<span class="n">lowtidecomp_ndwi</span> <span class="o">=</span> <span class="p">(</span><span class="n">lowtidecomp_data</span><span class="o">.</span><span class="n">green</span> <span class="o">-</span> <span class="n">lowtidecomp_data</span><span class="o">.</span><span class="n">nir</span><span class="p">)</span> <span class="o">/</span> \
                   <span class="p">(</span><span class="n">lowtidecomp_data</span><span class="o">.</span><span class="n">green</span> <span class="o">+</span> <span class="n">lowtidecomp_data</span><span class="o">.</span><span class="n">nir</span><span class="p">)</span>

<span class="c1"># Plot High and Low tide NDWI side-by-side</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">gridspec_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;width_ratios&#39;</span><span class="p">:[</span><span class="mf">0.83</span><span class="p">,</span> <span class="mi">1</span><span class="p">]})</span>
<span class="n">lowtidecomp_ndwi</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">add_colorbar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s1">&#39;Low Tide NDWI&#39;</span><span class="p">)</span>
<span class="n">hightidecomp_ndwi</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s1">&#39;High Tide NDWI&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_02_DEA_datasets_Introduction_to_HLTC_22_0.png" src="../../_images/notebooks_02_DEA_datasets_Introduction_to_HLTC_22_0.png" />
</div>
</div>
<p>A possible application of this may be to map the typical distribution of
open water at low and high tide using a NDWI threshold:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Identify open water using an example threshold value of 0:</span>
<span class="n">hightidecomp_water</span> <span class="o">=</span> <span class="n">hightidecomp_ndwi</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="n">lowtidecomp_water</span> <span class="o">=</span> <span class="n">lowtidecomp_ndwi</span> <span class="o">&gt;</span> <span class="mi">0</span>

<span class="c1"># Plot typical distribution of open water at high and low tide</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">gridspec_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;width_ratios&#39;</span><span class="p">:[</span><span class="mf">0.83</span><span class="p">,</span> <span class="mi">1</span><span class="p">]})</span>
<span class="n">lowtidecomp_water</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">add_colorbar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s1">&#39;Low Tide open water (yellow)&#39;</span><span class="p">)</span>
<span class="n">hightidecomp_water</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s1">&#39;High Tide open water (yellow)&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/notebooks_02_DEA_datasets_Introduction_to_HLTC_24_0.png" src="../../_images/notebooks_02_DEA_datasets_Introduction_to_HLTC_24_0.png" />
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Introduction_to_ITEM.html" class="btn btn-neutral float-right" title="Getting started with the Intertidal Extents Relative Model and ITEM Confidence (ITEM v2.0)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Introduction_to_Sentinel2.html" class="btn btn-neutral" title="Introduction to Sentinel 2" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2018, Geoscience Australia.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script type="text/javascript" src="https://unpkg.com/@jupyter-widgets/html-manager@^0.14.0/dist/embed-amd.js"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>


<!-- Theme Analytics -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-113800428-1"></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());
 
 gtag('config', 'UA-113800428-1');
</script>

    
  


</body>
</html>